import{a as Je,b as Qe}from"./chunk-FEBGD2ID.js";import{a as M,b as Ke}from"./chunk-NF6LTZ2P.js";import{b as V,c as C,d as R,e as I,f as D,g as O,h as j,i as G,j as B,m as H}from"./chunk-U54OL5OA.js";import{a as Ie,c as De,d as je,e as Ge,f as Be,g as He,h as ce,i as ze,j as Ue,k as qe,m as K,n as S,o as W,p as J,q as Ye,r as $e,s as Q}from"./chunk-AQN3XIJ3.js";import{$ as c,A as ve,Ac as We,C as he,Cc as Xe,Ea as Se,F as Y,Fb as w,G as _e,Gb as pe,Hb as a,Ia as l,Ib as T,Jb as N,Mb as L,P as xe,Qa as ke,Va as u,W as Ce,Wb as Te,Za as Pe,dc as Ne,ea as f,eb as b,fa as g,fb as v,gb as Me,ib as Oe,jb as Ee,ka as x,kb as d,l as ue,lb as o,mb as r,nb as p,oa as we,ob as _,oc as Ve,p as fe,pa as le,pb as k,q as ge,qb as F,sb as P,t as be,tb as Le,tc as $,ub as h,vb as U,wb as m,xb as Ae,yb as Fe,yc as Re,za as ye}from"./chunk-TWOTJYLF.js";var me=(t,i)=>{let e=c(M),n=c(S);return console.log("hello from authGuardGuard"),e.isLoggedIn$.pipe(Y(1),be(s=>(console.log("is logged in",s),s?!0:(console.log("not logged in"),n.parseUrl("/login")))))};var Ze=t=>t.hasUnsavedChanges()?confirm("You have unsaved changes. Do you really want toleave?"):!0;var X=class t{getProfile(i){return console.log(".... fetching the user profile from remote api"),fe({id:i,name:"Niki OPS",bio:"The Mother Fucking CREDOPS agent",avatar:"assets/avatar.png",stats:{posts:0,reach:"",coauth:0,since:120},savedInsights:[],recentActivity:[]}).pipe(_e(800))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})};var et=(t,i)=>{let e=c(X),n=c(M);return console.log("hello from profileResolverResolver"),n.user$.pipe(Y(1),xe(s=>s?e.getProfile(s.id):ue))};var tt=(t,i)=>c(We).fetchPublicPosts(0,5);var pt=[[["","extra-content",""]]],ct=["[extra-content]"],nt=()=>({exact:!0}),Z=class t{isPostMode=!1;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-sidebar"]],inputs:{isPostMode:"isPostMode"},ngContentSelectors:ct,decls:15,vars:8,consts:[[1,"sidebar-card","shadow-sm"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],["routerLink","/dashboard/myactivity","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-grid-fill","me-2"],["routerLink","/dashboard/profile","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-person","me-2"],[1,"nav-item","mt-3","pt-3","border-top"],[1,"nav-link","text-danger","logout-link",2,"cursor","pointer"],[1,"bi","bi-box-arrow-right","me-2"]],template:function(e,n){e&1&&(Ae(pt),o(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),p(4,"i",4),a(5," My Activity "),r()(),o(6,"li",2)(7,"a",5),p(8,"i",6),a(9," Account Details "),r()(),o(10,"li",7)(11,"a",8),p(12,"i",9),a(13," Sign Out "),r()()()(),Fe(14)),e&2&&(l(3),w("active",!n.isPostMode),d("routerLinkActiveOptions",L(6,nt)),l(4),w("active",n.isPostMode),d("routerLinkActiveOptions",L(7,nt)))},dependencies:[Q,W,J],styles:[".sidebar-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--postair-border);border-radius:12px;padding:1rem}.sidebar-card[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:8px;padding:.75rem 1rem;font-weight:500;transition:background .2s}.sidebar-card[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:#f1f5f9;color:var(--postair-primary)}.sidebar-wrapper[_ngcontent-%COMP%]{transition:all .3s ease}.sidebar-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #f1f5f9;border-radius:20px;overflow:hidden;padding-bottom:1.5rem}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:.7rem 1rem;border-radius:12px;color:#64748b;font-size:.85rem;font-weight:600;text-decoration:none;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative}.icon-box[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:8px;background:#f8fafc;transition:all .25s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#6366f1;background-color:#f0f3ff;transform:translate(4px)}.nav-link[_ngcontent-%COMP%]:hover   .icon-box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 4px 10px #6366f126;transform:scale(1.1)}.nav-link.active[_ngcontent-%COMP%]{color:#fff;background:#6366f1}.nav-link.active[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{background:#fff3;color:#fff}.brand-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:#6366f1;border-radius:50%;display:inline-block;margin-right:8px;box-shadow:0 0 10px #6366f180}"]})};function mt(t,i){t&1&&(o(0,"div",6)(1,"div",7)(2,"div",8)(3,"h6",9),a(4,"Create Content"),r(),o(5,"p",10),a(6,"Share your latest technical insights with the community."),r(),p(7,"i",11),r()()())}var ee=class t{constructor(i){this.router=i}isPostPage(){return this.router.url.includes("/dashboard/posts")}static \u0275fac=function(e){return new(e||t)(ke(S))};static \u0275cmp=u({type:t,selectors:[["app-dashboard-layout"]],decls:8,vars:2,consts:[[1,"dashboard-container","home-container"],[1,"col-lg-3"],[1,"dashboard-sidebar",3,"isPostMode"],["extra-content","",4,"ngIf"],[1,"dashboard-main","col-lg-9"],[1,"content-wrapper"],["extra-content",""],[1,"card","mt-4","border-0","bg-gradient-primary","text-white","shadow-sm","overflow-hidden","create-cta"],[1,"card-body","position-relative"],[1,"fw-bold","mb-2"],[1,"smallest","opacity-75","mb-0"],[1,"bi","bi-pencil-fill","water-mark"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"app-sidebar",2),Pe(3,mt,8,0,"div",3),r()(),o(4,"main",4)(5,"div",5),p(6,"router-outlet"),r()()(),p(7,"app-footer")),e&2&&(l(2),d("isPostMode",n.isPostPage()),l(),d("ngIf",n.isPostPage()))},dependencies:[Z,K,$,Ve,Qe],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:#f8fafc}.dashboard-sidebar[_ngcontent-%COMP%]{width:280px;padding:1.5rem;position:sticky;top:0;height:100vh}.dashboard-main[_ngcontent-%COMP%]{flex-grow:1;padding:1.5rem;overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.home-container[_ngcontent-%COMP%]{max-width:1200px;width:100%;margin:0 auto}.create-cta-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .4s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};function dt(t,i){t&1&&(p(0,"span",13),a(1," Checking... "))}function ut(t,i){t&1&&a(0," Sign In ")}var te=class t{authservice=c(M);router=c(S);isLoading=!1;onLogin=new x;onForgotPassword=new x;onNavigateToSignup=new x;loginForm=new D({email:new O("",[C.required,C.email]),password:new O("",[C.required,C.minLength(4)])});get f(){return this.loginForm.controls}login(){this.authservice.login().subscribe(i=>{this.router.navigate(["home"])})}submit(){this.loginForm.valid&&(this.onLogin.emit(this.loginForm.value),this.authservice.login().subscribe(i=>{this.router.navigate(["home"])}))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-login"]],inputs:{isLoading:"isLoading"},outputs:{onLogin:"onLogin",onForgotPassword:"onForgotPassword",onNavigateToSignup:"onNavigateToSignup"},decls:24,vars:7,consts:[[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","email","formControlName","email","placeholder","name@company.com",1,"form-control","shadow-none"],[1,"invalid-feedback"],[1,"mb-4"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-link","p-0","text-primary","small","text-decoration-none","fw-medium",3,"click"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control","shadow-none"],["type","submit",1,"btn","btn-primary","w-100","py-2","fw-semibold",3,"disabled"],[1,"text-center","mt-4"],[1,"text-muted","small"],["type","button",1,"btn","btn-link","p-0","text-primary","fw-bold","text-decoration-none",3,"click"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,n){e&1&&(o(0,"form",0),h("ngSubmit",function(){return n.submit()}),o(1,"div",1)(2,"label",2),a(3,"Email Address"),r(),p(4,"input",3),o(5,"div",4),a(6,"Enter a valid email address"),r()(),o(7,"div",5)(8,"div",6)(9,"label",2),a(10,"Password"),r(),o(11,"button",7),h("click",function(){return n.onForgotPassword.emit()}),a(12," Forgot? "),r()(),p(13,"input",8),o(14,"div",4),a(15,"Password must be at least 4 characters"),r()(),o(16,"button",9),b(17,dt,2,0)(18,ut,1,0),r(),o(19,"div",10)(20,"p",11),a(21,"Don't have an account? "),o(22,"button",12),h("click",function(){return n.onNavigateToSignup.emit()}),a(23," Sign Up "),r()()()()),e&2&&(d("formGroup",n.loginForm),l(4),w("is-invalid",n.f.email.touched&&n.f.email.errors),l(9),w("is-invalid",n.f.password.touched&&n.f.password.errors),l(3),d("disabled",n.loginForm.invalid||n.isLoading),l(),v(n.isLoading?17:18))},dependencies:[H,j,V,R,I,B,G],styles:[".auth-page-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:70vh}.auth-card[_ngcontent-%COMP%]{background:#fff;padding:2.5rem;border-radius:16px;border:1px solid var(--postair-border);box-shadow:0 10px 25px -5px #0000000a,0 8px 10px -6px #0000000a;width:100%;max-width:420px}.auth-header[_ngcontent-%COMP%]{margin-bottom:2rem}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--postair-text-main);letter-spacing:-.5px}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--postair-text-muted)}.btn-primary[_ngcontent-%COMP%]{transition:transform .1s ease-in-out}.btn-primary[_ngcontent-%COMP%]:active{transform:scale(.98)}"]})};function ft(t,i){t&1&&(p(0,"span",21),a(1," Creating Account... "))}function gt(t,i){t&1&&a(0," Create Account ")}var ne=class t{isLoading=!1;onLoginLink=new x;onSuccess=new x;avatarPreview="https://i.pravatar.cc/150";userCreated=!0;signupForm=new D({name:new O("",[C.required]),email:new O("",[C.required,C.email]),password:new O("",[C.required,C.minLength(4)]),bio:new O("",[])});get f(){return this.signupForm.controls}submit(){this.signupForm.valid&&(this.userCreated==!1||this.onSuccess.emit())}onFileSelected(i){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-signup"]],inputs:{isLoading:"isLoading"},outputs:{onLoginLink:"onLoginLink",onSuccess:"onSuccess"},decls:39,vars:13,consts:[[3,"ngSubmit","formGroup"],[1,"avatar-upload-container","mb-4","text-center"],[1,"avatar-preview-wrapper","mx-auto"],["alt","Profile Preview",1,"avatar-preview","shadow-sm",3,"src"],["for","avatarInput",1,"avatar-edit-badge","shadow"],[1,"bi","bi-camera-fill"],["type","file","id","avatarInput","accept","image/*","hidden","",3,"change"],[1,"text-muted","smaller","mt-2"],[1,"row","g-3"],[1,"col-12"],[1,"form-label"],["type","text","formControlName","name","placeholder","John Doe",1,"form-control","shadow-none"],["type","email","formControlName","email","placeholder","name@company.com",1,"form-control","shadow-none"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control","shadow-none"],[1,"text-muted"],["formControlName","bio","rows","2","placeholder","Briefly describe your expertise...",1,"form-control","shadow-none"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary","w-100","py-2","fw-semibold","mt-4",3,"disabled"],[1,"text-center","mt-4"],[1,"text-muted","small"],["type","button",1,"btn","btn-link","p-0","text-primary","fw-bold","text-decoration-none",3,"click"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,n){e&1&&(o(0,"form",0),h("ngSubmit",function(){return n.submit()}),o(1,"div",1)(2,"div",2),p(3,"img",3),o(4,"label",4),p(5,"i",5),o(6,"input",6),h("change",function(y){return n.onFileSelected(y)}),r()()(),o(7,"p",7),a(8,"Upload a profile picture"),r()(),o(9,"div",8)(10,"div",9)(11,"label",10),a(12,"Full Name"),r(),p(13,"input",11),r(),o(14,"div",9)(15,"label",10),a(16,"Email Address"),r(),p(17,"input",12),r(),o(18,"div",9)(19,"label",10),a(20,"Password"),r(),p(21,"input",13),r(),o(22,"div",9)(23,"label",10),a(24,"Bio "),o(25,"span",14),a(26,"(Optional)"),r()(),p(27,"textarea",15),o(28,"div",16)(29,"small",14),a(30),r()()()(),o(31,"button",17),b(32,ft,2,0)(33,gt,1,0),r(),o(34,"div",18)(35,"p",19),a(36,"Already have an account? "),o(37,"button",20),h("click",function(){return n.onLoginLink.emit()}),a(38," Sign In "),r()()()()),e&2&&(d("formGroup",n.signupForm),l(3),d("src",n.avatarPreview||"assets/default-avatar.png",Se),l(10),w("is-invalid",n.f.name.touched&&n.f.name.errors),l(4),w("is-invalid",n.f.email.touched&&n.f.email.errors),l(4),w("is-invalid",n.f.password.touched&&n.f.password.errors),l(6),w("is-invalid",n.f.bio.touched&&n.f.bio.errors),l(3),N("",(n.f.bio.value==null?null:n.f.bio.value.length)||0,"/250"),l(),d("disabled",n.signupForm.invalid||n.isLoading),l(),v(n.isLoading?32:33))},dependencies:[H,j,V,R,I,B,G],styles:[".avatar-upload-container[_ngcontent-%COMP%]   .avatar-preview-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;height:100px}.avatar-upload-container[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;border:3px solid #fff;background:#f8fafc}.avatar-upload-container[_ngcontent-%COMP%]   .avatar-edit-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:32px;height:32px;background:#6366f1;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;border:2px solid #fff}.avatar-upload-container[_ngcontent-%COMP%]   .avatar-edit-badge[_ngcontent-%COMP%]:hover{background:#4f46e5;transform:scale(1.1)}.avatar-upload-container[_ngcontent-%COMP%]   .avatar-edit-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}textarea[_ngcontent-%COMP%]{resize:none;font-size:.9rem}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--postair-text-muted)}"]})};var bt=()=>[0,1,2,3,4,5];function vt(t,i){if(t&1){let e=P();_(0,"input",16,0),U("keyup",function(s){let y=f(e).$index,q=m();return g(q.onKeyUp(s,y))})("paste",function(s){f(e);let y=m();return g(y.onPaste(s))}),k()}}function ht(t,i){t&1&&(F(0,"span",17),a(1," Verifying... "))}function _t(t,i){t&1&&a(0," Verify Account ")}function xt(t,i){if(t&1&&(_(0,"p",11),a(1,"Resend code in "),_(2,"span",18),a(3),k()()),t&2){let e=m();l(3),N("",e.resendTimer,"s")}}function Ct(t,i){if(t&1){let e=P();_(0,"button",19),U("click",function(){f(e);let s=m();return g(s.resendCode())}),a(1," Resend Code "),k()}}var ie=class t{isSubmitting=!1;resendTimer=30;timerInterval;isLoading=!1;email="";onVerified=new x;onLoginLink=new x;onBack=new x;constructor(){this.startTimer()}submitOtp(){}resendCode(){}isOtpComplete(){return!1}onKeyUp(i,e){}onPaste(i){}startTimer(){}ngOnDestroy(){this.timerInterval&&clearInterval(this.timerInterval)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-otp-verify"]],inputs:{isLoading:"isLoading",email:"email"},outputs:{onVerified:"onVerified",onLoginLink:"onLoginLink",onBack:"onBack"},decls:22,vars:5,consts:[["otpSlot",""],[1,"otp-container","text-center"],[1,"mb-4"],[1,"bi","bi-shield-lock","text-primary","display-4"],[1,"text-muted","mb-4"],[1,"text-dark","fw-bold"],[3,"submit"],["id","otp-inputs",1,"d-flex","justify-content-center","gap-2","mb-4"],["type","text","maxlength","1","pattern","\\d*","inputmode","numeric",1,"form-control","otp-field","shadow-none"],["type","submit",1,"btn","btn-primary","w-100","py-2","fw-semibold","mb-3",3,"disabled"],[1,"otp-footer"],[1,"text-muted","small"],[1,"btn","btn-link","text-primary","fw-bold","text-decoration-none","small"],[1,"mt-3"],[1,"btn","btn-link","text-muted","text-decoration-none","btn-sm",3,"click"],[1,"bi","bi-arrow-left","me-1"],["type","text","maxlength","1","pattern","\\d*","inputmode","numeric",1,"form-control","otp-field","shadow-none",3,"keyup","paste"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fw-bold"],[1,"btn","btn-link","text-primary","fw-bold","text-decoration-none","small",3,"click"]],template:function(e,n){e&1&&(_(0,"div",1)(1,"div",2),F(2,"i",3),k(),_(3,"p",4),a(4," Enter the 6-digit code sent to "),F(5,"br"),_(6,"span",5),a(7),k()(),_(8,"form",6),U("submit",function(){return n.submitOtp()}),_(9,"div",7),Oe(10,vt,2,0,"input",8,Me),k(),_(12,"button",9),b(13,ht,2,0)(14,_t,1,0),k()(),_(15,"div",10),b(16,xt,4,1,"p",11)(17,Ct,2,0,"button",12),_(18,"div",13)(19,"button",14),U("click",function(){return n.onBack.emit()}),F(20,"i",15),a(21," Use a different email "),k()()()()),e&2&&(l(7),T(n.email),l(3),Ee(L(4,bt)),l(2),Le("disabled",n.isSubmitting||!n.isOtpComplete()),l(),v(n.isSubmitting?13:14),l(3),v(n.resendTimer>0?16:17))},styles:[".otp-field[_ngcontent-%COMP%]{width:50px;height:60px;text-align:center;font-size:1.5rem;font-weight:700;border-radius:12px;border:2px solid #e2e8f0;background:#f8fafc;transition:all .2s ease}.otp-field[_ngcontent-%COMP%]:focus{border-color:#6366f1;background:#fff;box-shadow:0 0 0 4px #6366f11a;transform:translateY(-2px)}.otp-field[_ngcontent-%COMP%]::-webkit-outer-spin-button, .otp-field[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.otp-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};function wt(t,i){t&1&&(p(0,"span",14),a(1," Sending... "))}function yt(t,i){t&1&&a(0," Send Reset Link ")}function St(t,i){if(t&1){let e=P();o(0,"div",2)(1,"div",3),p(2,"i",4),r()(),o(3,"form",5),h("ngSubmit",function(){f(e);let s=m();return g(s.sendResetLink())}),o(4,"div",6)(5,"label",7),a(6,"Email Address"),r(),p(7,"input",8),o(8,"div",9),a(9,"Enter a valid email to receive the link"),r()(),o(10,"button",10),b(11,wt,2,0)(12,yt,1,0),r(),o(13,"div",11)(14,"button",12),h("click",function(){f(e);let s=m();return g(s.onBack.emit())}),p(15,"i",13),a(16," Back to Login "),r()()()}if(t&2){let e=m();l(3),d("formGroup",e.resetForm),l(4),w("is-invalid",e.f.email.touched&&e.f.email.errors),l(3),d("disabled",e.resetForm.invalid||e.isLoading),l(),v(e.isLoading?11:12)}}function kt(t,i){if(t&1){let e=P();o(0,"div",1)(1,"div",15),p(2,"i",16),r(),o(3,"h4",17),a(4,"Check your email"),r(),o(5,"p",18),a(6," We've sent a password reset link to "),p(7,"br"),o(8,"span",19),a(9),r()(),o(10,"button",20),h("click",function(){f(e);let s=m();return g(s.onBack.emit())}),a(11," Return to Login "),r(),o(12,"p",21),a(13," Didn't receive the email? "),o(14,"button",22),h("click",function(){f(e);let s=m();return g(s.emailSent=!1)}),a(15," Try again "),r()()()}if(t&2){let e=m();d("@fadeIn",void 0),l(9),T(e.resetForm.value.email)}}var oe=class t{emailSent=!1;isLoading=!1;onBack=new x;onForgotPassword=new x;onNavigateToSignup=new x;resetForm=new D({email:new O("",[C.required,C.email])});get f(){return this.resetForm.controls}sendResetLink(){this.emailSent=!0}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-password-reset"]],inputs:{isLoading:"isLoading"},outputs:{onBack:"onBack",onForgotPassword:"onForgotPassword",onNavigateToSignup:"onNavigateToSignup"},decls:3,vars:1,consts:[[1,"reset-container"],[1,"success-state","text-center","py-4"],[1,"text-center","mb-4"],[1,"icon-circle","bg-primary-subtle","text-primary","mx-auto","mb-3"],[1,"bi","bi-key-fill"],[3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"form-label"],["type","email","formControlName","email","placeholder","name@company.com",1,"form-control","shadow-none"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-primary","w-100","py-2","fw-semibold","mb-3",3,"disabled"],[1,"text-center"],["type","button",1,"btn","btn-link","text-muted","text-decoration-none","small",3,"click"],[1,"bi","bi-arrow-left","me-1"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"icon-circle","bg-success-subtle","text-success","mx-auto","mb-4"],[1,"bi","bi-envelope-check-fill"],[1,"fw-bold","mb-2"],[1,"text-muted","mb-4"],[1,"text-dark","fw-bold"],[1,"btn","btn-outline-primary","w-100","py-2","fw-semibold",3,"click"],[1,"text-muted","small","mt-4"],[1,"btn","btn-link","p-0","text-primary","fw-bold","text-decoration-none","small",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0),b(1,St,17,5)(2,kt,16,2,"div",1),r()),e&2&&(l(),v(n.emailSent?2:1))},dependencies:[H,j,V,R,I,B,G],styles:[".icon-circle[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.75rem}.bg-primary-subtle[_ngcontent-%COMP%]{background-color:#6366f11a!important}.bg-success-subtle[_ngcontent-%COMP%]{background-color:#22c55e1a!important}.reset-container[_ngcontent-%COMP%]{min-height:300px;display:flex;flex-direction:column;justify-content:center}"]})};function Pt(t,i){if(t&1){let e=P();o(0,"app-login",9),h("onLogin",function(s){f(e);let y=m();return g(y.executeLogin(s))})("onForgotPassword",function(){f(e);let s=m();return g(s.handleStepChange("reset"))})("onNavigateToSignup",function(){f(e);let s=m();return g(s.handleStepChange("signup"))}),r()}}function Mt(t,i){if(t&1){let e=P();o(0,"app-signup",10),h("onSuccess",function(s){f(e);let y=m();return g(y.handleStepChange("otp",s))})("onLoginLink",function(){f(e);let s=m();return g(s.handleStepChange("login"))}),r()}}function Ot(t,i){if(t&1){let e=P();o(0,"app-otp-verify",11),h("onVerified",function(){f(e);let s=m();return g(s.finishAuth())})("onBack",function(){f(e);let s=m();return g(s.handleStepChange("signup"))}),r()}if(t&2){let e=m();d("email",e.tempAuthData.email)}}function Et(t,i){if(t&1){let e=P();o(0,"app-password-reset",12),h("onBack",function(){f(e);let s=m();return g(s.handleStepChange("login"))}),r()}}var z=class t{title="Log In";subtitle="Become a postair";currentStep="login";tempAuthData={email:"",password:"",flow:"signup"};router=c(S);ngOnInit(){let i=this.router.url;i.includes("signup")?this.currentStep="signup":i.includes("login")&&(this.currentStep="login")}getTitle(){return{login:"Welcome Back",signup:"Create Account",otp:"Verify Email",reset:"Reset Password"}[this.currentStep]}getSubtitle(){return{login:"Please enter your details to sign in",signup:"Join the community of builders today",otp:`We've sent a code to ${this.tempAuthData.email}`,reset:"Enter your email to receive a reset link"}[this.currentStep]}handleStepChange(i,e){e?.email&&e?.password&&(this.tempAuthData.email=e.email,this.tempAuthData.password=e.password),this.currentStep=i}finishAuth(){}executeLogin(i){console.log(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-auth-shell"]],decls:14,vars:3,consts:[[1,"auth-overlay"],[1,"auth-shell-card"],[1,"auth-header-decorator"],[1,"auth-content-wrapper"],[1,"auth-header","text-center","mb-4"],[1,"auth-title"],[1,"auth-subtitle"],[1,"step-container"],[3,"email"],[3,"onLogin","onForgotPassword","onNavigateToSignup"],[3,"onSuccess","onLoginLink"],[3,"onVerified","onBack","email"],[3,"onBack"]],template:function(e,n){if(e&1&&(o(0,"div",0)(1,"div",1),p(2,"div",2),o(3,"div",3)(4,"div",4)(5,"h2",5),a(6),r(),o(7,"p",6),a(8),r()(),o(9,"div",7),b(10,Pt,1,0,"app-login")(11,Mt,1,0,"app-signup")(12,Ot,1,1,"app-otp-verify",8)(13,Et,1,0,"app-password-reset"),r()()()()),e&2){let s;l(6),T(n.getTitle()),l(2),T(n.getSubtitle()),l(2),v((s=n.currentStep)==="login"?10:s==="signup"?11:s==="otp"?12:s==="reset"?13:-1)}},dependencies:[te,ne,ie,oe],styles:[".auth-overlay[_ngcontent-%COMP%]{min-height:80vh;display:flex;align-items:center;justify-content:center;padding:2rem}.auth-shell-card[_ngcontent-%COMP%]{width:100%;max-width:480px;background:#ffffffe6;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.4);border-radius:24px;box-shadow:0 20px 25px -5px #0000000d,0 10px 10px -5px #00000005;overflow:hidden;position:relative}.auth-header-decorator[_ngcontent-%COMP%]{height:4px;width:100%;background:linear-gradient(90deg,#6366f1,#8b5cf6);position:absolute;top:0;left:0}.auth-content-wrapper[_ngcontent-%COMP%]{padding:3rem 2.5rem}.auth-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;letter-spacing:-.02em;color:#1e293b}.auth-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:.95rem}.step-container[_ngcontent-%COMP%]{display:block;width:100%}"]})};var rt=[{path:"home",loadComponent:()=>import("./chunk-L3CPQYMX.js").then(t=>t.Home),resolve:{initialPosts:tt},children:[{path:"view/:title",loadComponent:()=>import("./chunk-MRWLDJHZ.js").then(t=>t.PostDetail)}]},{path:"dashboard",component:ee,children:[{path:"myactivity",loadComponent:()=>import("./chunk-WLL75MKS.js").then(t=>t.Posts),canActivate:[me],canDeactivate:[Ze]},{path:"profile",loadComponent:()=>import("./chunk-SFOZGVLV.js").then(t=>t.Profile),canActivate:[me],resolve:{profileData:et}},{path:"",redirectTo:"myactivity",pathMatch:"full"}]},{path:"auth",component:z,children:[{path:"",redirectTo:"login",pathMatch:"full"}]},{path:"login",component:z},{path:"signup",component:z},{path:"",redirectTo:"home",pathMatch:"full"}];var at=(t,i)=>i(t).pipe(he(e=>(e.status===401&&console.warn("Unauthorized! Redirecting..."),e.status>=500&&console.error("Server side error detected"),ge(()=>e))));var st=(t,i)=>{let e=c(ye),n=c(M),s=null;if(Re(e)){let q=c(Ne,{optional:!0})?.headers?.get("cookie")??null;s=q?Ke(q,"accessToken"):null}else s=n.getAccessToken();if(s){let y=t.clone({setHeaders:{Authorization:`Bearer ${s}`}});return i(y)}return i(t)};var lt={providers:[we(),Ye(rt,$e()),He(Be({includePostRequests:!1})),De(Ge(),je([at,st]))]};var de=()=>({exact:!0});function Lt(t,i){t&1&&(o(0,"li",9)(1,"a",12),a(2,"My Activity"),r()(),o(3,"li",13)(4,"a",14),a(5,"Profile"),r()(),o(6,"li",15)(7,"div",16),a(8,"NK"),r()()),t&2&&(l(),d("routerLinkActiveOptions",L(2,de)),l(3),d("routerLinkActiveOptions",L(3,de)))}function At(t,i){t&1&&(o(0,"li",11)(1,"a",17),a(2,"Login"),r()())}var re=class t{authService=c(M);router=c(S);user=Xe(this.authService.user$);isLoggedIn=Te(()=>!!this.user());onLogout(){this.authService.logout(),this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-header"]],decls:15,vars:3,consts:[[1,"navbar","navbar-expand-lg","sticky-top","custom-navbar"],[1,"container"],["routerLink","/home",1,"navbar-brand","d-flex","align-items-center"],[1,"brand-icon","me-2"],[1,"brand-text"],["type","button","data-bs-toggle","collapse","data-bs-target","#mainNavbar",1,"navbar-toggler","border-0","shadow-none"],[1,"navbar-toggler-icon"],["id","mainNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","align-items-lg-center"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link","px-3",3,"routerLinkActiveOptions"],[1,"nav-item","ms-lg-3"],["routerLink","/dashboard/myactivity","routerLinkActive","active",1,"nav-link","px-3",3,"routerLinkActiveOptions"],[1,"nav-item","me-lg-3"],["routerLink","/dashboard/profile","routerLinkActive","active",1,"nav-link","px-3",3,"routerLinkActiveOptions"],[1,"nav-item","ms-lg-2","ps-lg-3","border-start-lg"],[1,"avatar-mini","me-2"],["routerLink","/login",1,"btn","btn-primary","btn-sm","px-4","shadow-sm"]],template:function(e,n){e&1&&(o(0,"nav",0)(1,"div",1)(2,"a",2),p(3,"div",3),o(4,"span",4),a(5,"Postair"),r()(),o(6,"button",5),p(7,"span",6),r(),o(8,"div",7)(9,"ul",8)(10,"li",9)(11,"a",10),a(12,"Home"),r()(),b(13,Lt,9,4)(14,At,3,0,"li",11),r()()()()),e&2&&(l(11),d("routerLinkActiveOptions",L(2,de)),l(2),v(n.isLoggedIn()?13:14))},dependencies:[Q,W,J],styles:['.custom-navbar[_ngcontent-%COMP%]{background-color:#fffc!important;backdrop-filter:blur(12px) saturate(180%);-webkit-backdrop-filter:blur(12px) saturate(180%);border-bottom:1px solid rgba(226,232,240,.8);padding:.75rem 0;transition:all .3s ease}.brand-text[_ngcontent-%COMP%]{font-weight:800;letter-spacing:-.5px;font-size:1.25rem;color:var(--postair-text-main)}.brand-icon[_ngcontent-%COMP%]{width:24px;height:24px;background:linear-gradient(135deg,var(--postair-primary),#818cf8);border-radius:6px}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--postair-text-muted);font-weight:500;font-size:.925rem;transition:color .2s ease}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:var(--postair-primary)}.navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--postair-primary)!important;position:relative}@media(min-width:992px){.navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-15px;left:20%;right:20%;height:2px;background-color:var(--postair-primary);border-radius:2px}.border-start-lg[_ngcontent-%COMP%]{border-left:1px solid var(--postair-border)}}.avatar-mini[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#6366f1;color:#fff;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700}']})};function Ft(t,i){if(t&1&&(_(0,"div",1)(1,"div",2),F(2,"i",3),_(3,"span",4),a(4),k()()()),t&2){let e=i,n=m();pe(e.status),l(2),pe(n.getIcon(e.status)),l(2),N("",e.message,".")}}var ae=class t{notifService=c(Je);getIcon(i){return i==="success"?"bi-check-circle":"bi-exclamation-triangle"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-notification"]],decls:1,vars:1,consts:[[1,"notification-container","animate-slide-in","shadow-lg",3,"class"],[1,"notification-container","animate-slide-in","shadow-lg"],[1,"d-flex","align-items-center","gap-2","px-3","py-2"],[1,"bi"],[1,"smallest","fw-medium"]],template:function(e,n){if(e&1&&b(0,Ft,5,5,"div",0),e&2){let s;v((s=n.notifService.current())?0:-1,s)}},dependencies:[$],styles:[".notification-container[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;z-index:9999;width:fit-content;min-width:220px;max-width:300px;border-radius:12px;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.2);color:#fff;overflow:hidden}.notification-container.success[_ngcontent-%COMP%]{background:#22c55ee6}.notification-container.error[_ngcontent-%COMP%]{background:#ef4444e6}.notification-container[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-wrap:nowrap;align-items:flex-start!important}.notification-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;line-height:1.4}"]})};function Tt(t,i){t&1&&(o(0,"div",1),p(1,"div",4),r())}var se=class t{title=le("Postair");router=c(S);isNavigating=le(!1);constructor(){this.router.events.pipe(ve(i=>i instanceof ce||i instanceof ze||i instanceof qe||i instanceof Ue)).subscribe(i=>{this.isNavigating.set(i instanceof ce)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-root"]],decls:7,vars:1,consts:[[1,"app-container"],[1,"progress-bar-container"],[1,"app-shell"],[1,"app-main"],[1,"progress-bar-fill"]],template:function(e,n){e&1&&(o(0,"div",0),b(1,Tt,2,0,"div",1),o(2,"div",2),p(3,"app-header"),o(4,"main",3),p(5,"router-outlet"),r()(),p(6,"app-notification"),r()),e&2&&(l(),v(n.isNavigating()?1:-1))},dependencies:[K,re,ae],styles:[".progress-bar-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:3px;z-index:9999}.progress-bar-fill[_ngcontent-%COMP%]{height:100%;background:var(--postair-primary);width:30%;animation:_ngcontent-%COMP%_loading-shimmer 2s infinite ease-in-out}@keyframes _ngcontent-%COMP%_loading-shimmer{0%{width:0%;left:0%}to{width:100%;left:100%}}"]})};Ie(se,lt).catch(t=>console.error(t));
