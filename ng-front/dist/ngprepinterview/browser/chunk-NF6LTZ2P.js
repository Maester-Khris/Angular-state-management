import{$ as l,W as a,h as r,p as n,pa as i,t as o,xc as c,za as u}from"./chunk-TWOTJYLF.js";var m=class t{_accessToken=i(null);userState=new r(null);user$=this.userState.asObservable();platformId=l(u);constructor(){if(c(this.platformId)){let e=h(document.cookie,"accessToken");e&&this._accessToken.set(e)}}isLoggedIn$=this.user$.pipe(o(e=>!!e));getAccessToken(){return this._accessToken()}setToken(e){this._accessToken.set(e)}get currentValue(){return this.userState.value}login(){let e={id:"nk-dev",email:"niki@gmail.con"};return this.setToken("mock-jwt-token-123"),this.userState.next(e),n(e)}logout(){this._accessToken.set(null),this.userState.next(null)}static \u0275fac=function(s){return new(s||t)};static \u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"})};function h(t,e){if(!t)return null;let s=t.match(new RegExp("(^| )"+e+"=([^;]+)"));return s?s[2]:null}export{m as a,h as b};
