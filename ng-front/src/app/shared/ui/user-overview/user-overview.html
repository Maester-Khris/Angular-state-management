<div class="dropdown position-relative" (clickOutside)="isDropdownOpen.set(false)">

  <!-- Avatar button -->
  <button
    type="button"
    class="btn p-0 border-0 bg-transparent rounded-circle ms-4"
    (click)="toggleDropdown()"
    aria-haspopup="true"
    [attr.aria-expanded]="isDropdownOpen()">

    <img
      src="https://www.gravatar.com/avatar/?d=mp&s=40"
      alt="User avatar"
      class="rounded-circle border"
      width="40"
      height="40">
  </button>

  <!-- Dropdown -->
  @if (isDropdownOpen()) {
    <div class="dropdown-menu dropdown-menu-start show shadow-sm mt-2">
      <div class="dropdown-header small text-muted">
        {{ user()?.email }}
      </div>

      <div class="dropdown-divider"></div>

      <button
        type="button"
        class="dropdown-item d-flex justify-content-between align-items-center">
        <span>Notifications</span>
        <span class="badge rounded-pill text-bg-secondary">4</span>
      </button>

      <div class="dropdown-divider"></div>

      <button
        class="dropdown-item text-danger"
        type="button"
        (click)="handleLogout()">
        Logout
      </button>
    </div>
  }
</div>
